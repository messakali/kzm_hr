<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
	<template  id="journal_paie" >
    <!--<t  t-call = "report.html_container" >-->
        <!--<t  t-foreach = "docs"  t-as= "o" >-->
            <!--<t  t-call = "hr_payroll_ma_legal_reports.external_layout_hr_reports" >-->
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                <div  class= "page" >
                	<div align="center">
                		<h2><strong>Journal de Paie</strong></h2>
                		<h3>Mois: <span t-field="o.period_id"/></h3>
                	</div>
                    <t t-set="total_1" t-value="0"/>
                    <t t-set="total_2" t-value="0"/>
                    <t t-set="total_3" t-value="0"/>
                    <t t-set="total_4" t-value="0"/>
                    <t t-set="total_5" t-value="0"/>
                    <t t-set="total_6" t-value="0"/>
                    <t t-set="total_7" t-value="0"/>
                    <t t-set="total_8" t-value="0"/>
                    <t t-set="total_9" t-value="0"/>
                    <t t-set="total_10" t-value="0"/>
                    <t t-set="total_11" t-value="0"/>
                    <t t-set="total_12" t-value="0"/>
                    <t t-set="total_13" t-value="0"/>
                    <t t-set="total_14" t-value="0"/>
                    <t t-set="total_15" t-value="0"/>
                    <t t-set="total_16" t-value="0"/>
                    <t t-set="total_17" t-value="0"/>
                    <t t-set="total_18" t-value="0"/>
                    <t t-set="total_19" t-value="0"/>
                    <t t-set="total_20" t-value="0"/>
                    <t t-set="total_21" t-value="0"/>
                    <t t-set="total_22" t-value="0"/>
                    <t t-set="total_23" t-value="0"/>
                    <t t-set="total_24" t-value="0"/>

                    <table style="border-collapse: collapse;width:100%" >
                        <tr height="45">
                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><b>Matr</b></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Nom - Prénom</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Fonction</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date embauche</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Date naissance</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>N°CNSS</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NE</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>NCF</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Sal Base</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Ancient</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 0%</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 25%</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 50%</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>HSup 100%</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Jrs congés</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Congés payés</b></td>
                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Net à payer</b></td>
                        </tr>
                        <tr height="25">
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes imposables</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut global</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev brut impos</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CNSS</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>CIMR/ASS/AMO</b></td>
                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Rev net impos</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>IGR</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Avances</b></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Prêt et Ret</b></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;"><b>Primes non impos</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;"><b>Arrondi</b></td>
                        </tr>
                        <t t-foreach= "o.bulletin_line_ids.sorted(key=lambda r: r.employee_id.matricule)"  t-as= "b">
                        <tr height="45">
                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.matricule"/></td>
                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><span t-field="b.employee_id.name"/> <span t-field="b.employee_id.prenom"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.job_id.name"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.date"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.birthday"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.ssnid"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.children"/><t t-set="total_1" t-value="total_1+b.employee_id.children"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.employee_id.chargefam"/><t t-set="total_2" t-value="total_2+b.employee_id.chargefam"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_base_mois"/><t t-set="total_3" t-value="total_3+b.salaire_base_mois"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime_anciennete"/><t t-set="total_4" t-value="total_4+b.prime_anciennete"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_25"/><t t-set="total_5" t-value="total_5+b.hsup_25"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_50"/><t t-set="total_6" t-value="total_6+b.hsup_50"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.hsup_100"/><t t-set="total_7" t-value="total_7+b.hsup_100"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.jrs_conges"/><t t-set="total_8" t-value="total_8+b.jrs_conges"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.conges_payes"/><t t-set="total_9" t-value="total_9+b.conges_payes"/></td>
                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_a_payer"/><t t-set="total_19" t-value="total_19+b.salaire_net_a_payer"/></td>
                        </tr>
                        <tr height="25">
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.prime"/><t t-set="total_10" t-value="total_10+b.prime"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute"/><t t-set="total_11" t-value="total_11+b.salaire_brute"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_brute_imposable"/><t t-set="total_12" t-value="total_12+b.salaire_brute_imposable"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cnss"/><t t-set="total_13" t-value="total_13+b.cnss"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.cimr_assurance_amo"/><t t-set="total_14" t-value="total_14+b.cimr_assurance_amo"/></td>
                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.salaire_net_imposable"/><t t-set="total_15" t-value="total_15+b.salaire_net_imposable"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.igr"/><t t-set="total_16" t-value="total_16+b.igr"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.exoneration"/><t t-set="total_17" t-value="total_17+b.exoneration"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-field="b.arrondi"/><t t-set="total_18" t-value="total_18+b.arrondi"/></td>

                        </tr>
                    </t>
                    <tr height="25">
                        <td colspan="18" style=""></td>
                    </tr>
                    <tr height="45">
                            <td rowspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td colspan="2" style="padding:5px;font-size:16px;border: 1px solid black;text-align: left;vertical-align:middle;"><b>TOTAL</b></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_1"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_2"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_3"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_4"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_5"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_6"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_7"/></td>
                             <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_8"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_9"/></td>
                        </tr>
                        <tr height="25">
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_10"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_11"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_12"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_13"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_14"/></td>
                            <td colspan="3" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_15"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_16"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"></td>
                            <td colspan="2" style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_17"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_18"/></td>
                            <td style="font-size:16px;border: 1px solid black;text-align: center;vertical-align:middle;"><span t-esc="'%.2f'% total_19"/></td>
                        </tr>
                     </table>
               </div>
              </t>
           </t>
        </t>
    </template>
    </data>
</odoo>