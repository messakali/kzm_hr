<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data noupdate="1">
<!-- Contract Types -->
        <record id="hr_contract.hr_contract_type_emp" model="hr.contract.type">
            <field name="name">CDI</field>
            <field eval="True" name="show_field_start"/>
            <field eval="True" name="required_field_start"/>
            <field eval="False" name="empty_field_start"/>
            <field eval="False" name="show_field_stop"/>
            <field eval="False" name="required_field_stop"/>
            <field eval="True" name="empty_field_stop"/>
            <field name="type">permanent</field>
        </record>
        <record id="hr_contract.hr_contract_type_wrkr" model="hr.contract.type">
            <field name="name">CDD</field>
            <field eval="True" name="show_field_start"/>
            <field eval="True" name="required_field_start"/>
            <field eval="False" name="empty_field_start"/>
            <field eval="True" name="show_field_stop"/>
            <field eval="True" name="required_field_stop"/>
            <field eval="False" name="empty_field_stop"/>
            <field name="type">occasional</field>
        </record>
        <record id="hr_contract_type_ctt" model="hr.contract.type">
            <field name="name">CTT</field>
            <field eval="True" name="show_field_start"/>
            <field eval="True" name="required_field_start"/>
            <field eval="False" name="empty_field_start"/>
            <field eval="True" name="show_field_stop"/>
            <field eval="False" name="required_field_stop"/>
            <field eval="False" name="empty_field_stop"/>
            <field name="type">occasional</field>
        </record>
        <record id="hr_contract_type_trainee" model="hr.contract.type">
            <field name="name">Stagiaire</field>
            <field eval="True" name="show_field_start"/>
            <field eval="True" name="required_field_start"/>
            <field eval="False" name="empty_field_start"/>
            <field eval="True" name="show_field_stop"/>
            <field eval="True" name="required_field_stop"/>
            <field eval="False" name="empty_field_stop"/>
            <field name="type">trainee</field>
        </record>
        <record id="hr_contract.hr_contract_type_sub" model="hr.contract.type">
            <field name="name">Intérim</field>
            <field name="type">occasional</field>
        </record>
        <record id="hr_contract_type_freelance" model="hr.contract.type">
            <field name="name">Freelance</field>
            <field name="type">occasional</field>
        </record>
        <!-- Action server -->
        <record id="action_update_employee_contract" model="ir.actions.server">
            <field name="name">Mettre à jour l'état du contrat</field>
            <field name="model_id" ref="model_hr_contract"/>
            <field name="state">code</field>
            <field name="code">
                if context.get('active_model') == 'hr.contract' and context.get('active_ids'): object.update_contract_state(object.employee_id.id)
            </field>
        </record>
        <!-- Action automaise -->
        <record id="rule_update_employee_contract" model="base.action.rule">
            <field name="name">Update employee contract's on creation or update</field>
            <field name="model_id" ref="model_hr_contract"/>
            <field name="sequence">1</field>
            <field name="kind">on_create_or_write</field>
            <field eval="[(6,0,[ref('action_update_employee_contract')])]" name="server_action_ids"/>
        </record>
    </data>
</openerp>
