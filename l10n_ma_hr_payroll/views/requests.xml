<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
    <data>
        <!-- Main menu -->
        <menuitem id="menu_hr_main_request" name="Espace employé" parent="hr.menu_hr_root" sequence="18"/>
        <!-- Congé légal -->
        <record model="ir.actions.act_window" id="act_open_holiday_legal_view">
            <field name="name">Congé légal</field>
            <field
                name="type">ir.actions.act_window</field>
            <field name="res_model">hr.holidays</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
            <field
                name="domain">[('holiday_status_code','=','CONGE_LEGAL'),('type','=','remove'),('employee_id.user_id','=',uid)]</field>
            <field name="context">{'default_holiday_status_code' : 'CONGE_LEGAL','default_type':
                'remove', 'search_default_my_leaves':1, }</field>
        </record>
        <menuitem  groups="l10n_ma_hr_payroll.group_portal_employee_menu_legal" action="act_open_holiday_legal_view" id="request_holiday_legal_menu" parent="menu_hr_main_request" sequence="1" />
        <!-- Absence -->
        <record id="act_open_holiday_unpaid_view" model="ir.actions.act_window">
            <field name="name">Absence</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.holidays</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="domain">[('holiday_status_code','=','ABSENCE'),('type','=','remove'),('employee_id.user_id','=',uid)]</field>
            <field name="context">{'default_holiday_status_code' :
                'ABSENCE','default_type': 'remove', 'search_default_my_leaves':1}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_absence" action="act_open_holiday_unpaid_view" id="request_holiday_unpaid_menu" parent="menu_hr_main_request" sequence="2"/>
        <!-- Compensation -->
        <record id="act_open_holiday_compensation_view" model="ir.actions.act_window">
            <field name="name">Jours de compensation</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.holidays</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="domain">[('holiday_status_code','=','COMPENSATION'),('type','=','remove'),('employee_id.user_id','=',uid)]</field>
            <field name="context">{'default_holiday_status_code' :
                'COMPENSATION','default_type': 'remove', 'search_default_my_leaves':1}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_compensation" action="act_open_holiday_compensation_view" id="request_holiday_compensation_menu" parent="menu_hr_main_request" sequence="3"/>
        <!-- Arrêts de maladie -->
        <record id="act_open_holiday_maladie_view" model="ir.actions.act_window">
            <field name="name">Arrêt de maladie</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.holidays</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="domain">[('holiday_status_code','=','MALADIE'),('type','=','remove'),('employee_id.user_id','=',uid)]</field>
            <field name="context">{'default_holiday_status_code' :
                'MALADIE','default_type': 'remove', 'search_default_my_leaves':1}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_maladie" action="act_open_holiday_maladie_view" id="request_holiday_maladie_menu" parent="menu_hr_main_request" sequence="4"/>
        <!-- Heures supplémentaires -->
        <record id="act_open_holiday_hs_view" model="ir.actions.act_window">
            <field name="name">Heures supplémentaires</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.holidays</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree,form</field>
            <field name="domain">[('holiday_status_code','=','H_SUP'),('type','=','remove'),('employee_id.user_id','=',uid)]</field>
            <field name="context">{'default_holiday_status_code' : 'H_SUP','default_type':
                'remove', 'search_default_my_leaves':1}</field>
        </record>
        <menuitem  groups="l10n_ma_hr_payroll.group_portal_employee_menu_overtime" action="act_open_holiday_hs_view" id="request_holiday_hs_menu" parent="menu_hr_main_request" sequence="5"/>
        <!-- Elément de salaire -->
        <record id="act_open_rubrique_line_request_view" model="ir.actions.act_window">
            <field name="name">Elément de salaire</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.rubrique.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('employee_id.user_id','=',uid)]</field>
            <field name="context">{}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_element" id="request_rubrique_line_menu" parent="menu_hr_main_request" sequence="6"
                action="act_open_rubrique_line_request_view" />
        <!-- Avances / Cession -->
        <record model="ir.actions.act_window" id="act_open_avance_line_request_view">
            <field name="name">Avances / Prêts</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.avance.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field
                name="domain">[('employee_id.user_id','=',uid)]</field>
            <field name="context">{}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_avance" id="request_avance_line_menu" parent="menu_hr_main_request" sequence="6"
                action="act_open_avance_line_request_view" />
        <!-- Avantages -->
        <record model="ir.actions.act_window" id="act_open_avantage_line_request_view">
            <field name="name">Avantages</field>
            <field
                name="type">ir.actions.act_window</field>
            <field name="res_model">hr.avantage.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field
                name="domain">[('employee_id.user_id','=',uid)]</field>
            <field name="context">{}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_avantage"  action="act_open_avantage_line_request_view" id="request_avantage_line_menu" parent="menu_hr_main_request" sequence="6"/>
        <!-- Notes de frais -->
        <record model="ir.actions.act_window" id="act_open_expense_request_view">
            <field name="name">Notes de frais</field>
            <field
                name="type">ir.actions.act_window</field>
            <field name="res_model">hr.expense</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field
                name="domain">[('employee_id.user_id','=',uid)]</field>
            <field name="context">{}</field>
        </record>
        <menuitem groups="l10n_ma_hr_payroll.group_portal_employee_menu_expense"  action="act_open_expense_request_view" id="request_expense_menu" parent="menu_hr_main_request" sequence="8" />
        
    </data>
</openerp>
