<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
    <data>
        <record id="view_hr_employee_rotation_report_graph" model="ir.ui.view">
            <field name="name">hr.employee.rotation.graph</field>
            <field name="model">hr.employee.rotation</field>
            <field name="arch" type="xml">
                <graph string="Rotation des employés" type="pivot" stacked="True">
                    <field name="company_id" type="row" />
                    <field name="action" type="col" />
                </graph>
            </field>
        </record>
        <record id="view_hr_employee_rotation_report_search" model="ir.ui.view">
            <field name="name">hr.employee.rotation.search</field>
            <field name="model">hr.employee.rotation</field>
            <field name="type">search</field>
            <field name="priority" eval="8" />
            <field name="arch" type="xml">
                <search string="Rotation des employés">
                    <field name="employee_id" select="True" />
                    <field name="company_id" select="True" />
                    <filter string="Tests" name="tests" context="{}" domain="[('action','in',['trial_start','trial_end'])]" />
                    <filter string="Courant" name="courant" context="{}" domain="[('action','in',['start','end'])]" />
                    <separator string="Periods" colspan="4"/>
                    <filter name="today" domain="[('date','=',time.strftime('%%Y-%%m-%%d'))]" string="Today" />
                    <filter name="week" domain="[('date','&lt;',time.strftime('%%Y-%%m-%%d 23:59:59')),('date','&gt;=',(datetime.date.today() - datetime.timedelta(weeks=1)).strftime('%%Y-%%m-%%d 00:00:00'))]" string="Last week" />
                    <filter name="thismonth" domain="[('date','like',time.strftime('%%Y-%%m-'))]" string="Ce mois" />
                    <group expand="1" string="Group By">
                        <filter string="Société" context="{'group_by':'company_id'}" groups="base.group_multi_company" />
                        <filter string="Employé" context="{'group_by':'employee_id'}" />
                        <filter string="Action" context="{'group_by':'action'}" />
                    </group>
                </search>
            </field>
        </record>
        <record model="ir.actions.act_window" id="act_open_hr_employee_rotation_report_view">
            <field name="name">Rotation des employés</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.employee.rotation</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph</field>
            <field name="search_view_id" ref="view_hr_employee_rotation_report_search" />
            <field name="domain">[]</field>
            <field name="context">{'search_default_courant':1}</field>
        </record>
        <menuitem id="menu_hr_employee_rotation_report" parent="menu_board_paie" sequence="22" action="act_open_hr_employee_rotation_report_view"
        groups="l10n_ma_hr_payroll.group_hr_menu_board_rotation" />
    </data>
</openerp>
