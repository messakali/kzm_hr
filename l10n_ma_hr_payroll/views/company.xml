<?xml version="1.0" encoding="UTF-8" ?>
<openerp>
    <data>
<!-- Company Data -->
        <record id="view_res_company_payroll_base_inherit_form" model="ir.ui.view">
            <field name="name">res.company.form</field>
            <field name="model">res.company</field>
            <field  name="inherit_id" ref="kzm_base.view_res_company_kzm_base_inherit_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="after">
                    <h4>
                        <field  name="initial" groups="base.group_multi_company" placeholder="Initial" required="1"/>
                    </h4>
                </xpath>
                <xpath expr="//sheet" position="after">
                    <div class="oe_chatter" groups="l10n_ma_hr_payroll.group_hr_company">
                        <field  name="message_follower_ids" widget="mail_followers"/>
                        <field  name="message_ids" widget="mail_thread"/>
                    </div>
                </xpath>
               <!-- <xpath expr="//notebook/page[@string='Configuration']" position="attributes">
                    <attribute name="groups">hr.group_hr_manager,base.group_erp_manager</attribute>
                </xpath> -->
                <xpath expr="//notebook/page[last()]" position="before">
                    <page string="Ressources humaines">
                        <notebook colspan="4">
                            <page attrs="{'invisible': [('parent_id','!=', False)]}" name="hr" string="Ressources humaines">
                                <group col="4" colspan="4">
                                    <group colspan="4" groups="l10n_ma_hr_payroll.group_paie_interface_rh_company_settings" string="Paramètres">
                                        <field  name="fp_plafond"/>
                                        <field  name="fp_taux"/>
                                        <field  invisible="1" name="fp_taux_str"/>
                                        <field  name="cf_plafond"/>
                                        <field  name="cf_amount"/>
                                        <field  name="nbr_af1_plafond"/>
                                        <field  name="af1_amount"/>
                                        <field  name="nbr_af2_plafond"/>
                                        <field  name="af2_amount"/>
                                    </group>
                                    <group colspan="2" string="CNSS">
                                        <field  name="cnss_day_limit"/>
                                    </group>
                                    <group colspan="2" string="Autres">
                                        <field  domain="[('company_id','=', id)]" name="manager_id"/>
                                        <field  domain="[('company_id','=', id)]" name="simpleir_employee_id"/>
                                        <field  name="payroll_journal_id" widget="selection"/>
                                    </group>
                                </group>
                            </page>
                            <page string="Nombre des employés">
                                <group colspan="4">
                                    <field  name="nbr_employees_permanent" string="Nb. des permanents"/>
                                    <field  name="nbr_employees_occasional" string="Nb. des occasionnels"/>
                                    <field  name="nbr_employees_trainees" string="Nb. des stagiaires"/>
                                    <div colspan="4">
                                        <hr/>
                                    </div>
                                    <field  name="nbr_employees" string="Total des employés"/>
                                </group>
                            </page>
                            <page groups="hr.group_hr_user" string="Types de salaire">
                                <field  name="based_on_ids" nolabel="1" widget="many2many_checkboxes"/>
                            </page>
                            <page string="Responsables RH">
                                <field  colspan="4" domain="[('company_id','=',id)]" name="rh_users_id" nolabel="1"/>
                            </page>
                            <page string="Temps de travail">
                                <group colspan="4">
                                    <field  name="working_hours" required="1" widget="selection"/>
                                </group>
                            </page>
                            <page groups="l10n_ma_hr_payroll.group_paie_interface_rh_company_settings" string="Déclarations">
                                <group colspan="4">
                                    <field  name="smig_by_hour"/>
                                    <field  name="nbr_days_declared"/>
                                    <field  name="nbr_hours_declared"/>
                                    <field  name="rate_hours_on_day"/>
                                    <field  name="default_hours_on_worked_day" groups="l10n_ma_hr_payroll.group_advanced_options"/>
                                    <field  name="default_hours_on_holiday" groups="l10n_ma_hr_payroll.group_advanced_options"/>
                                    <field  name="default_hours_on_leave" groups="l10n_ma_hr_payroll.group_advanced_options" invisible="1" />
                                </group>
                            </page>
                            <page groups="l10n_ma_hr_payroll.group_paie_interface_limit" string="Limites des avances">
                                <group col="4" colspan="4" groups="l10n_ma_hr_payroll.group_paie_interface_rate_generate">
                                    <group colspan="2">
                                        <field  name="avance_amount_limit_min"/>
                                        <field  name="avance_amount_limit_max"/>
                                        <field  name="avance_amount_limit_day_from"/>
                                        <field  name="avance_amount_limit_day_to"/>
                                    </group>
                                    <group colspan="2">
                                        <button  class="oe_link" name="generate_avance_limits" string="Charger" type="object"/>
                                        <button  class="oe_link" name="reset_avance_limits" string="Reset" type="object"/>
                                    </group>
                                </group>
                                <group colspan="4">
                                    <field colspan="4" name="avance_limit_ids" nolabel="1">
                                        <tree editable="top" string="Limites des avances">
                                            <field  name="avance_id" widget="selection"/>
                                            <field  name="amount_from"/>
                                            <field  name="amount_to"/>
                                            <field  name="day_from"/>
                                            <field  name="day_to"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            <page groups="l10n_ma_hr_payroll.group_paie_interface_limit" string="Limites des rubriques">
                                <group colspan="4">
                                    <group col="4" colspan="4" groups="l10n_ma_hr_payroll.group_paie_interface_rate_generate">
                                        <group colspan="2">
                                            <field  name="rubrique_amount_limit_min"/>
                                            <field  name="rubrique_amount_limit_max"/>
                                            <field  name="rubrique_amount_limit_day_from"/>
                                            <field  name="rubrique_amount_limit_day_to"/>
                                        </group>
                                        <group colspan="2">
                                            <button  class="oe_link" name="generate_rubrique_limits" string="Charger" type="object"/>
                                            <button  class="oe_link" name="reset_rubrique_limits" string="Reset" type="object"/>
                                        </group>
                                    </group>
                                    <field colspan="4" name="rubrique_limit_ids" nolabel="1">
                                        <tree editable="top" string="Limites des rubriques">
                                            <field  name="rubrique_id" widget="selection"/>
                                            <field  name="amount_from"/>
                                            <field  name="amount_to"/>
                                            <field  name="day_from"/>
                                            <field  name="day_to"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>
                            <page groups="l10n_ma_hr_payroll.group_paie_interface_limit" string="Limites des avantages">
                                <group colspan="4">
                                    <group col="4" colspan="4" groups="l10n_ma_hr_payroll.group_paie_interface_rate_generate">
                                        <group colspan="2">
                                            <field  name="avantage_amount_limit_min"/>
                                            <field  name="avantage_amount_limit_max"/>
                                            <field  name="avantage_amount_limit_day_from"/>
                                            <field  name="avantage_amount_limit_day_to"/>
                                        </group>
                                        <group colspan="2">
                                            <button  class="oe_link" name="generate_avantage_limits" string="Charger" type="object"/>
                                            <button  class="oe_link" name="reset_avantage_limits" string="Reset" type="object"/>
                                        </group>
                                    </group>
                                    <field colspan="4" name="avantage_limit_ids" nolabel="1">
                                        <tree editable="top" string="Limites des avantages">
                                            <field  name="avantage_id" widget="selection"/>
                                            <field  name="amount_from"/>
                                            <field  name="amount_to"/>
                                            <field  name="day_from"/>
                                            <field  name="day_to"/>
                                        </tree>
                                    </field>
                                </group>
                            </page>

                        </notebook>
                    </page>
                    <page attrs="{'invisible': [('parent_id','=', False)]}" groups="l10n_ma_hr_payroll.group_paie_interface_rate" string="Facturation">
                        <group col="4" colspan="4">
                            <group colspan="2" string="CDI">
                                <field  name="cdi_base_salary_rate"/>
                                <field  name="cdi_hsupp_rate"/>
                                <field  name="cdi_imposable_rate"/>
                                <field  name="cdi_exonore_rate"/>
                                <field  name="cdi_expenses_rate"/>
                                <field  name="cdi_legal_leave_rate"/>
                                <field  name="cdi_seniority_rate"/>
                            </group>
                            <group colspan="2" string="CDD">
                                <field  name="cdd_base_salary_rate"/>
                                <field  name="cdd_hsupp_rate"/>
                                <field  name="cdd_imposable_rate"/>
                                <field  name="cdd_exonore_rate"/>
                                <field  name="cdd_expenses_rate"/>
                                <field  name="cdd_legal_leave_rate"/>
                                <field  name="cdd_seniority_rate"/>
                            </group>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</openerp>
